wfQuery.extend({ajax:function(e){var r=wfQuery.extend({async:!0,timeout:3e4,cache:!0,url:null,data:{},type:"GET",dataType:"json",form:null,success:function(){},error:function(){},onprocess:function(){}},e);if(!r.url)throw console.error(r),new Error("ajax( url /*required*/ )");if("JSONP"===r.dataType.toUpperCase())return wfQuery.jsonp(r.url,r.data,r.success);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==a.readyState){if(200!=a.status)return r.error(a);switch(r.dataType.toUpperCase()){case"JSON":try{r.success(JSON.parse(a.responseText))}catch(e){return r.error(a,e)}break;case"XML":case"HTML":a.responseXML?r.success(a.responseXML):r.error(a);break;default:r.success(a.responseText)}}};var t,n,s=r.type.toUpperCase();if(r.form&&(n=wfQuery(r.form)[0])&&"FORM"===n.tagName.toUpperCase()){"POST"===s&&a.upload.addEventListener("progress",r.onprocess),t=new FormData(n);for(var o in r.data)t.append(o,r.data[o])}else t=wfQuery.param(r.data);a.open(s,r.url,r.async),r.cache||a.setRequestHeader("Cache-Control","no-cache"),a.send(t)},jsonp:function(e,r,a){wfQuery.isFunction(r)&&(a=r,r={});var t="wfQuery_"+ +new Date;r.__t=+new Date,r.callback=t;var n=doc.createElement("script");n.src=e+"?"+wfQuery.param(r);var s=wfQuery(n);wfQuery("body").append(s),window[t]=a||function(){},s.on("load",function(){delete window[t],s.remove()})}}),["get","post"].forEach(function(e){wfQuery[e]=function(r,a,t,n){return wfQuery.isFunction(a)&&(n=n||t,t=a,a=void 0),wfQuery.ajax({url:r,type:e,dataType:n,data:a,success:t})}});